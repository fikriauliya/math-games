* { margin: 0; padding: 0; box-sizing: border-box; }
html { -webkit-text-size-adjust: 100%; }
body { font-family: 'Nunito', sans-serif; background: linear-gradient(180deg, #0f0c29, #302b63, #24243e); color: white; min-height: 100dvh; overflow: hidden; user-select: none; }

.screen { width: 100vw; height: 100dvh; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 1.5rem; padding: 2rem; padding: 2rem max(2rem, env(safe-area-inset-left)) max(2rem, env(safe-area-inset-bottom)) max(2rem, env(safe-area-inset-right)); }
.hidden { display: none !important; }

h1 { font-size: clamp(1.8rem, 5vw, 2.5rem); font-weight: 900; }
h2 { font-size: clamp(0.9rem, 2.5vw, 1.1rem); opacity: 0.7; }
.big-btn { padding: 1rem 3rem; font-size: clamp(1.1rem, 3vw, 1.3rem); font-weight: 900; border: none; border-radius: 50px; cursor: pointer; font-family: 'Nunito'; background: linear-gradient(135deg, #f093fb, #f5576c); color: white; min-height: 48px; touch-action: manipulation; }
.big-btn:active { transform: scale(0.95); }

.game-hud { position: fixed; top: 0; left: 0; right: 0; display: flex; justify-content: space-between; padding: 0.8rem 1.5rem; padding-top: max(0.8rem, env(safe-area-inset-top)); padding-left: max(1.5rem, env(safe-area-inset-left)); padding-right: max(1.5rem, env(safe-area-inset-right)); background: rgba(0,0,0,0.3); backdrop-filter: blur(10px); z-index: 100; }
.hud-val { font-weight: 900; font-size: clamp(1rem, 2.5vw, 1.2rem); }
.hud-lbl { font-size: 0.7rem; opacity: 0.6; }

.target-bar { position: fixed; top: 60px; left: 50%; transform: translateX(-50%); background: rgba(255,255,255,0.1); padding: 0.5rem 1.5rem; border-radius: 20px; font-size: clamp(1.2rem, 3vw, 1.5rem); font-weight: 900; z-index: 100; backdrop-filter: blur(10px); white-space: nowrap; }
.target-bar .target-num { color: #f5576c; font-size: clamp(1.5rem, 4vw, 2rem); }

#game-area { position: fixed; top: 0; left: 0; right: 0; bottom: 0; }

.bubble {
  position: absolute; display: flex; align-items: center; justify-content: center;
  border-radius: 50%; cursor: pointer; font-weight: 900; font-family: 'Nunito';
  animation: float-up linear forwards;
  transition: transform 0.1s;
  box-shadow: inset -5px -5px 15px rgba(0,0,0,0.2), inset 5px 5px 15px rgba(255,255,255,0.2);
  touch-action: manipulation;
  min-width: 44px; min-height: 44px;
}
.bubble:active { transform: scale(0.9); }

@keyframes float-up {
  from { bottom: -80px; opacity: 0.8; }
  to { bottom: 110vh; opacity: 0.3; }
}

@keyframes pop {
  0% { transform: scale(1); opacity: 1; }
  50% { transform: scale(1.5); opacity: 0.5; }
  100% { transform: scale(0); opacity: 0; }
}
.bubble.popped { animation: pop 0.3s forwards !important; pointer-events: none; }
.bubble.wrong-pop { animation: pop 0.3s forwards !important; pointer-events: none; background: #f44336 !important; }

.floating-text { position: fixed; font-weight: 900; font-size: 1.5rem; pointer-events: none; animation: float-text 1s forwards; z-index: 200; }
@keyframes float-text { from { opacity: 1; transform: translateY(0); } to { opacity: 0; transform: translateY(-50px); } }

.stats { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; max-width: 300px; width: 100%; }
.stat { background: rgba(255,255,255,0.1); padding: 1rem; border-radius: 12px; text-align: center; }
.stat-val { font-size: clamp(1.5rem, 4vw, 2rem); font-weight: 900; }
.stat-lbl { font-size: 0.8rem; opacity: 0.7; }

a.back { color: rgba(255,255,255,0.6); text-decoration: none; font-size: 0.9rem; min-height: 44px; display: inline-flex; align-items: center; touch-action: manipulation; }

@media (max-width: 480px) {
  .screen { padding: 1.5rem 1rem; gap: 1rem; }
  .target-bar { top: 50px; padding: 0.4rem 1rem; }
}
