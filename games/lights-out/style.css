* { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
html { -webkit-text-size-adjust: 100%; }
body {
  font-family: 'Nunito', sans-serif; min-height: 100dvh; display: flex; flex-direction: column;
  align-items: center; justify-content: center;
  background: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
  color: white; overflow: hidden; user-select: none;
  padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
}
.screen { display: flex; flex-direction: column; align-items: center; justify-content: center; width: 100%; max-width: 500px; padding: 1rem; text-align: center; }
.screen.hidden { display: none; }

h1 { font-size: clamp(1.8rem, 6vw, 2.5rem); font-weight: 900; }
h2 { font-size: clamp(1rem, 3vw, 1.2rem); opacity: 0.7; margin-bottom: 1.5rem; }

.puzzle-buttons { display: flex; flex-wrap: wrap; gap: 0.5rem; justify-content: center; margin-bottom: 1rem; }
.puzzle-btn {
  font-family: inherit; font-size: 0.9rem; font-weight: 700;
  background: rgba(255,255,255,0.1); color: white; border: 2px solid rgba(255,255,255,0.2);
  border-radius: 0.5rem; padding: 0.6rem 1rem; cursor: pointer; touch-action: manipulation;
}
.puzzle-btn:active { transform: scale(0.95); }
.big-btn {
  font-family: inherit; font-size: clamp(1.2rem, 4vw, 1.5rem); font-weight: 900;
  background: #7c4dff; color: white; border: none; border-radius: 2rem;
  padding: 1rem 3rem; cursor: pointer; box-shadow: 0 4px 0 #4a148c;
  min-height: 56px; touch-action: manipulation;
}
.big-btn:active { transform: translateY(2px); box-shadow: 0 2px 0 #4a148c; }
.back { color: rgba(255,255,255,0.4); margin-top: 1rem; text-decoration: none; font-size: 0.9rem; }

.hud { display: flex; gap: 2rem; margin-bottom: 1rem; }
.hud-item { text-align: center; }
.hud-label { font-size: 0.8rem; opacity: 0.6; }
.hud-value { font-size: clamp(1.3rem, 4vw, 1.8rem); font-weight: 900; }

.grid {
  display: grid; grid-template-columns: repeat(5, 1fr); gap: 6px;
  width: clamp(250px, 70vw, 350px);
}
.light {
  aspect-ratio: 1; border-radius: 8px; border: 2px solid rgba(255,255,255,0.1);
  background: rgba(255,255,255,0.05); cursor: pointer; transition: all 0.2s;
  touch-action: manipulation;
}
.light.on {
  background: #00e5ff; border-color: #00e5ff;
  box-shadow: 0 0 20px rgba(0,229,255,0.6), 0 0 40px rgba(0,229,255,0.3);
}
.light:active { transform: scale(0.9); }

.hint { font-size: 0.85rem; opacity: 0.4; margin-top: 1rem; }
.final-score { font-size: clamp(1.5rem, 5vw, 2rem); font-weight: 900; margin: 1rem 0 1.5rem; }

@keyframes pulse { 0% { transform: scale(1); } 100% { transform: scale(1.05); } }
@media (max-width: 480px) { .grid { gap: 4px; } }
